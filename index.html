<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Rewriting KNoT Gateway client with Ionic</title>

		<link rel="stylesheet" href="reveal.js/css/reveal.css">
		<link rel="stylesheet" href="reveal.js/css/theme/white.css">
		<link rel="stylesheet" href="css/theme/cesar.css">
		<link rel="stylesheet" href="css/pres.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="css/theme/github.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2>Rewriting the KNoT Gateway client with Ionic</h2>
					<p>Thiago Figueredo Cardoso</p>
				</section>

				<!-- KNoT -->
				<section data-transition="slide">
					<section>
						<h4 class="fragment grow" data-fragment-index="0">KNoT?</h4>
						<h4 class="fragment semi-fade-out" data-fragment-index="0">Gateway client?</h4>
						<h4 class="fragment semi-fade-out" data-fragment-index="0">Rewrite?</h4>
						<h4 class="fragment semi-fade-out" data-fragment-index="0">Ionic?</h4>
					</section>

					<section>
						<a href="https://knot.cesar.org.br" target=_blank>
							<img src="imgs/knot_logo.png" height="300px" />
						</a>
						<p>The open source meta platform for IoT</p>

						<aside class="notes" data-markdown>
							- Meta platform for IoT
							- Currently mainly developed at CESAR
						</aside>
					</section>

					<section>
						<img src="imgs/knot_arch.png" height="600px" />

						<aside class="notes" data-markdown>
							- Glue that connects hardware and software platforms
							- Components: devices, gateway, cloud providers
							- Devices: the "things" (sensors/actuators)
							- Gateway: connects non-internet connected things
							- Cloud: stores/process/routes messages
						</aside>
					</section>
				</section>

				<!-- Gateway client (Web UI) -->
				<section data-transition="slide">
					<section>
						<h4 class="fragment semi-fade-out" data-fragment-index="0"><strike>KNoT?</strike></h4>
						<h4 class="fragment grow" data-fragment-index="0">Gateway client?</h4>
						<h4 class="fragment semi-fade-out" data-fragment-index="0">Rewrite?</h4>
						<h4 class="fragment semi-fade-out" data-fragment-index="0">Ionic?</h4>
					</section>

					<section>
						<img src="imgs/knot_arch_low.png" height="600px" />

						<aside class="notes" data-markdown>
							- Repositories with source of each component
							- This rewrite is about the webui (gateway client)
						</aside>
					</section>

					<section>
						<img src="imgs/knot_arch_low_annotated.png" height="600px" />
					</section>

					<section>
						<p>Current gateway client is a web app</p>
						<ul>
							<li>Mongo</li>
							<li>Express</li>
							<li>Angular (1.x) + Bootstrap</li>
							<li>Node</li>
						</ul>
					</section>

					<section>
						<div class="stack">
							<ul>
								<li><img src="imgs/webui-1.png" /></li>
								<li class="fragment"><img src="imgs/webui-2.png" /></li>
								<li class="fragment"><img src="imgs/webui-3.png" /></li>
								<li class="fragment"><img src="imgs/webui-4.png" /></li>
								<li class="fragment"><img src="imgs/webui-5.png" /></li>
							</ul>
						</div>
					</section>
				</section>

				<!-- Problems -->
				<section data-transition="slide">
					<section>
						<h4 class="fragment semi-fade-out" data-fragment-index="0"><strike>KNoT?</strike></h4>
						<h4 class="fragment semi-fade-out" data-fragment-index="0"><strike>Gateway client?</strike></h4>
						<h4 class="fragment grow" data-fragment-index="0">Rewrite?</h4>
						<h4 class="fragment semi-fade-out" data-fragment-index="0">Ionic?</h4>
					</section>

					<section>
						<h3>Problems</h3>
						<ul>
							<li>No package management or build system</li>
							<li class="fragment">Old versions of AngularJS and JS (ES5)</li>
							<li class="fragment">Non-responsive layout</li>
							<li class="fragment">Fragile back-end</li>
							<li class="fragment">Lack of developers</li>
						</ul>
					</section>

					<section>
						<p><span class="fragment strike semi-fade-out" data-fragment-index="2">Improve current or</span> rewrite<span class="fragment strike semi-fade-out" data-fragment-index="2">?</span></p>
						<p class="fragment" data-fragment-index="0"><span class="fragment strike semi-fade-out" data-fragment-index="2">Replace with an Android app?</span></p>
						<p class="fragment" data-fragment-index="1">Use a hybrid app framework?</p>
						<p class="fragment" data-fragment-index="2">React Native, Native Script or Ionic?</p>
					</section>
				</section>

				<!-- Ionic -->
				<section data-transition="slide">
					<section data-transition="fade-out">
						<div class="grid">
							<div class="grid-cell-full">
								<a href="https://ionicframework.com" target="_blank">
									<img src="imgs/ionic_logo.png" width="300px" />
								</a>
							</div>
							<div class="grid-cell fragment">
								<p>Hybrid apps</p>
							</div>
							<div class="grid-cell fragment">
								<q>One code base.<br/>Running everywhere.</q>
							</div>
							<div class="grid-cell fragment">
								<p>Open source<br/>(MIT)</p>
							</div>
						</div>
					</section>

					<section data-transition="fade-in">
						<div class="angular-cordova-logos">
							<h2>
								<a href="https://ionicframework.com" target="_blank">
									<img src="imgs/ionic_icon.png" height="100px" />
								</a>
								<span class="fragment fade-in">
								=
								<a href="https://angular.io" target="_blank">
									<img src="imgs/angular_logo.png" height="100px" />
								</a>
								</span>
								<span class="fragment fade-in">
								+
								<a href="https://cordova.apache.org" target="_blank">
									<img src="imgs/cordova_logo.png" height="100px" />
								</a>
								</span>
							</h2>
						</div>
						<p class="fragment">Application is a web app inside a web view</p>

						<aside class="notes" data-markdown>
							- No native UI
							- Native components through Cordova
						</aside>
					</section>

					<section>
						<h3>Getting started</h3>
						<pre><code class="bash" data-trim contenteditable>
						$ npm install -g cordova ionic
						$ ionic start MyApp blank
						$ cd MyApp
						$ ionic serve
						</code></pre>

						<aside class="notes" data-markdown>
							- Useful options to start: --yarn and --skip-link
							- I tried using yarn to install globally but it wasn't working properly with VS Code
						</aside>
					</section>

					<section>
						<h3>Alternative: Ionic Creator</h3>
						<div class="stack">
							<ul>
								<li><img src="imgs/creator-1.png" /></li>
								<li class="fragment"><img src="imgs/creator-2.png" /></li>
								<li class="fragment"><img src="imgs/creator-3.png" /></li>
							</ul>
						</div>

						<aside class="notes" data-markdown>
							- Has limitations
							- Not 100% free
						</aside>
					</section>

					<section>
						<h3>Ionic bootstrap</h3>
						<div class="grid">
							<div class="grid-cell-no-grow">
								<img src="imgs/bootstrap-0.png" width="246px" />
							</div>
							<div class="grid-cell-no-grow grid-cell-text-align-left">
								<p>Configuration files:</p>
								<ul>
									<li>TypeScript</li>
									<li>Node</li>
									<li>Cordova</li>
								</ul>
							</div>
						</div>
					</section>

					<section>
						<h3>Ionic bootstrap</h3>
						<div class="grid">
							<div class="grid-cell-no-grow">
								<img src="imgs/bootstrap-1.png" width="246px" />
							</div>
							<div class="grid-cell-no-grow grid-cell-text-align-left">
								<p>Progressive Web App stuff</p>
							</div>
						</div>
					</section>

					<section>
						<h3>Ionic bootstrap</h3>
						<div class="grid">
							<div class="grid-cell-no-grow">
								<img src="imgs/bootstrap-2.png" width="246px" />
							</div>
							<div class="grid-cell-no-grow grid-cell-text-align-left">
								<p>Mobile assets:</p>
								<ul>
									<li>Splash</li>
									<li>Icons</li>
									<li>...</li>
								</ul>
							</div>
						</div>
					</section>

					<section>
						<h3>Ionic bootstrap</h3>
						<div class="grid">
							<div class="grid-cell-no-grow">
								<img src="imgs/bootstrap-3.png" width="246px" />
							</div>
							<div class="grid-cell-no-grow grid-cell-text-align-left">
								<p>The application:</p>
								<ul>
									<li>app: main module</li>
									<li>pages: page modules</li>
									<li>theme: theming SASS files</li>
								</ul>
							</div>
						</div>

						<aside class="notes" data-markdown>
							- Theme contains default theme
							- It is the place to override current or create a new
							- e.g.: change colors
						</aside>
					</section>

					<section>
						<h3>Ionic bootstrap</h3>
						<div class="grid-no-wrap">
							<div class="grid-cell-no-grow-shrink">
								<img src="imgs/bootstrap_app.png" width="246px" />
							</div>
							<div class="grid-cell grid-cell-text-align-left">
								<pre><code class="html" data-trim contenteditable>
								<ion-nav [root]="rootPage"></ion-nav>
								</code></pre>
								<p>The <a href="http://ionicframework.com/docs/api/components/nav/Nav" target="_blank">ion-nav</a> is the basic <a href="http://ionicframework.com/docs/components/#navigation" target="_blank">navigation</a> component.</p>
							</div>
						</div>

						<aside class="notes" data-markdown>
							- ion-nav is a stack based navigation component
						</aside>
					</section>

					<section>
						<h3>Ionic bootstrap</h3>
						<div class="grid-no-wrap">
							<div class="grid-cell-no-grow-shrink">
								<img src="imgs/bootstrap_app.png" width="246px" />
							</div>
							<div class="grid-cell grid-cell-text-align-left">
								<pre><code class="typescript" data-trim data-noescape contenteditable>
								import ...

								<mark>@Component({</mark>
								  templateUrl: 'app.html'
								})
								export class MyApp {
								  <mark>rootPage:any = HomePage;</mark>

								  constructor(platform: Platform, ...) {
								    <mark>platform.ready().then(() => {</mark>
								        statusBar.styleDefault();
								        splashScreen.hide();
								      });
								    }
								}
								</code></pre>
							</div>
						</div>

						<aside class="notes" data-markdown>
							- It is an Angular component
							- rootPage is referenced in the template
							- Cordova plugins to deal with the platform
						</aside>
					</section>

					<section>
						<h3>Ionic bootstrap</h3>
						<div class="grid-no-wrap">
							<div class="grid-cell-no-grow-shrink">
								<img src="imgs/bootstrap_page.png" width="246px" />
							</div>
							<div class="grid-cell grid-cell-text-align-left">
								<pre><code class="html" data-trim contenteditable>
								<ion-header>
								  <ion-navbar>
								    <ion-title>
								      Ionic Blank
								    </ion-title>
								  </ion-navbar>
								</ion-header>

								<ion-content padding>
								  The world is your oyster.
								</ion-content>
								</code></pre>
								<p>Basic page structure is <a href="http://ionicframework.com/docs/api/components/toolbar/Header/" target="_blank">ion-header</a> and <a href="http://ionicframework.com/docs/api/components/content/Content/" target="_blank">ion-content</a>.</p>
							</div>
						</div>

						<aside class="notes" data-markdown>
							- ion-navbar relates to ion-nav
						</aside>
					</section>

					<section>
						<img src="imgs/bootstrap_serve.png" />
					</section>
				</section>

				<!-- Gateway client prototype -->
				<section data-transition="slide">
					<section>
						<h3>The prototype</h3>
						<div class="align-left">
							<p>Ordinary CRUD application:</p>
							<ul>
								<li>Sign in form</li>
								<li>Devices list (read/update)</li>
							</ul>
							<p>with <b>gateway search</b> as mobile-only feature.</p>
						</div>
					</section>

					<section>
						<h3>Main doubts</h3>
						<ul>
							<li>How is a form view written?</li>
							<li class="fragment">How is a list view written?</li>
							<li class="fragment">How to update list views in real-time?</li>
							<li class="fragment">How to split mobile-only and common features?</li>
							<li class="fragment">How to handle different devices (Android, iOS, Desktop) and screen sizes?</li>
						</ul>
					</section>

					<section>
						<h3>Evaluation guidelines</h3>
						<ul>
							<li class="fragment">How to use (or look like) native view components?</li>
							<li class="fragment">Does the framework provide it out-of-the-box? If not, how easy it is to implement a custom solution?</li>
						</ul>
					</section>
				</section>

			</div>

		</div>

		<script src="reveal.js/lib/js/head.min.js"></script>
		<script src="reveal.js/js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				transition: 'none',
				width: 960,
				height: 700,
				dependencies: [
					{ src: 'reveal.js/plugin/markdown/marked.js' },
					{ src: 'reveal.js/plugin/markdown/markdown.js' },
					{ src: 'reveal.js/plugin/notes/notes.js', async: true },
					{ src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
